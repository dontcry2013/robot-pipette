(this["webpackJsonprobot-pipette"]=this["webpackJsonprobot-pipette"]||[]).push([[0],{11:function(e,t,r){},12:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(5),c=r.n(o),u=r(2),s=r(3),l=r(1),i=function(e){return a.a.createElement("button",{className:"".concat(e.hoverClass," square"),position:e.position},e.value)},p=function(e){var t=function(t){return a.a.createElement(i,{key:t,position:t,hoverClass:t===e.current?"square--green":null,value:e.squares[t]})};return a.a.createElement("div",null,function(e,r){for(var n=[],o=0,c=e-1;c>=0;c-=1){var u=[];o=c*r-1;for(var s=0;s<r;s+=1)o+=1,u.push(t(o,c,s));n.push(a.a.createElement("div",{key:c,className:"board-row"},u))}return n}(e.row,e.col))},f=a.a.createContext(null);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=function(e){var t=Object(n.useRef)(null),r=Object(n.useState)({textareaVal:e.textareaVal||"",commands:[]}),o=Object(u.a)(r,2),c=o[0],s=o[1],i=Object(n.useContext)(f);return Object(n.useEffect)((function(){var e=function(){var e=[],t=c.textareaVal.trim().toUpperCase().indexOf("PLACE");t>=0&&(e=c.textareaVal.substr(t).split(/\r?\n/).filter((function(e){return e})));return e}(c.textareaVal);s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c,{commands:e}))}),[c,c.textareaVal]),a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"title"},"Input"),a.a.createElement("textarea",{ref:t,value:c.textareaVal,rows:"30",cols:"40",onChange:function(e){s({textareaVal:e.target.value})}}),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){i({type:"setCommands",commands:c.commands})}},"Execute")))},O=function(e){var t=e.reports?e.reports.map((function(e,t){return a.a.createElement("li",{key:t},e)})):null;return a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"title"},"Output"),a.a.createElement("div",{className:"output"},a.a.createElement("ul",{style:{listStyleType:"none"}},t)))},y=function(e,t){return{x:Math.floor(e/t),y:e%t}},E=function(e,t){return e.x*t+e.y},v=function(e,t){var r;try{r="X"===e[t]?"FULL":"EMPTY"}catch(n){r="ERR"}return r};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={row:5,col:5,squares:Array(25).fill(null),commands:[],output:[],textareaVal:""};r(11);c.a.render(a.a.createElement((function(){var e=Object(n.useReducer)((function(e,t){switch(t.type){case"setCommands":return j({},e,{commands:t.commands,output:[]});case"PLACE":return j({},e,{current:E(t.position,e.col)});case"MOVE":var r=function(e,t,r,n){var a=y(e,r),o=a.x,c=a.y;switch(t){case"N":if(o+1>=n){console.error("out of boundary",t,e,o,c);break}return E({x:o+1,y:c},r);case"S":if(o-1<0){console.error("out of boundary",t,e,o,c);break}return E({x:o-1,y:c},r);case"W":if(c-1<0){console.error("out of boundary",t,e,o,c);break}return E({x:o,y:c-1},r);case"E":if(c+1>=r){console.error("out of boundary",t,e,o,c);break}return E({x:o,y:c+1},r);default:console.error("error from handleMove",t)}}(e.current,t.direction,e.col,e.row);return r?j({},e,{current:r}):e;case"DROP":var n=e.squares.slice();return n[e.current]="X",j({},e,{squares:n});case"DETECT":var a=v(e.squares,e.current);return j({},e,{output:[].concat(Object(s.a)(e.output),["Output: ".concat(a)])});case"REPORT":var o=function(e,t,r){var n=v(e,t),a=y(t,r);return"".concat(a.x,",").concat(a.y,",").concat(n)}(e.squares,e.current,e.col);return j({},e,{output:[].concat(Object(s.a)(e.output),["Output: ".concat(o)])});default:throw new Error}}),P),t=Object(u.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){r.commands.length>0&&r.commands.forEach((function(e){var t=e.split(" ");switch(console.log(33,t),t[0].toUpperCase()){case"PLACE":var r=function(e){var t;if("string"===typeof e||e instanceof String){var r=e.split(",");t=2===r.length?{x:+r[0],y:+r[1]}:null}return t}(t[1]);console.log(1,r),r&&o({type:"PLACE",position:r});break;case"MOVE":t[1]&&o({type:"MOVE",direction:t[1]});break;case"DROP":o({type:"DROP"});break;case"DETECT":o({type:"DETECT"});break;case"REPORT":o({type:"REPORT"});break;default:console.error("error from useEffect",e)}}))}),[r.commands]),a.a.createElement(f.Provider,{value:o},a.a.createElement("div",{className:"robot"},a.a.createElement("div",{className:"board"},a.a.createElement(p,{row:r.row,col:r.col,squares:r.squares,current:r.current})),a.a.createElement(b,{textareaVal:r.textareaVal}),a.a.createElement(O,{reports:r.output})))}),null),document.getElementById("root"))},6:function(e,t,r){e.exports=r(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.814de92f.chunk.js.map